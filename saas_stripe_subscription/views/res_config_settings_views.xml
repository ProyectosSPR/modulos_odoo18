<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Inherit settings to add Stripe subscription configuration -->
    <record id="res_config_settings_view_form_stripe_subscription" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.stripe.subscription</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="arch" type="xml">

            <xpath expr="//form" position="inside">
                <app data-string="Stripe Subscriptions" string="Stripe Subscriptions" name="saas_stripe_subscription">
                    <block title="Stripe Subscription Integration" id="stripe_subscription_integration">
                        <setting string="Enable Stripe Subscription Sync"
                                 help="Automatically synchronize subscription lifecycle (create, update, cancel) with Stripe">
                            <div class="content-group">
                                <field name="stripe_subscription_sync_enabled"/>
                            </div>
                        </setting>

                        <setting string="Auto-sync Products to Stripe"
                                 help="Automatically create products in Stripe when used in subscriptions">
                            <div class="content-group">
                                <field name="stripe_product_auto_sync"/>
                            </div>
                        </setting>

                        <setting string="Default Stripe Provider"
                                 help="Default Stripe payment provider for subscription synchronization"
                                 invisible="not stripe_subscription_sync_enabled">
                            <div class="content-group">
                                <field name="stripe_subscription_provider_id"
                                       placeholder="Select a Stripe payment provider..."/>
                            </div>
                        </setting>
                    </block>
                </app>
            </xpath>

        </field>
    </record>

</odoo>
